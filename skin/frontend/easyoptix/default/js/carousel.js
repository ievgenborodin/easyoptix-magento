jQuery.fn.prepare_slider=function(){var e=0,i=0,t=0,r=0,l=jQuery("#slider_list > li"),s=l.outerWidth(!0),u=4;l.each(function(t){e+=jQuery(this).outerWidth(!0),i++}),t=i-u,total_clicks=i-u,jQuery("#slider_list").css("position","relative"),jQuery("#slider_list").css("left","0px"),jQuery("#slider_list").css("width",e+"px"),jQuery("#slider_list li:last").addClass("last"),jQuery("#slider_list li:first").addClass("first");var n=!1,o=function(){n=!1};jQuery("#left_but").click(function(){cur_offset=jQuery("#slider_list").position().left,n||(r>0?(n=!0,jQuery("#slider_list").animate({left:cur_offset+s+"px"},700,"linear",o),t++,r--):(n=!0,jQuery("#slider_list").animate({left:-s*total_clicks+"px"},700,"linear",o),t=0,r=total_clicks))}),jQuery("#right_but").click(function(){n||(cur_offset=jQuery("#slider_list").position().left,t>0?(n=!0,jQuery("#slider_list").animate({left:cur_offset-s+"px"},700,"linear",o),t--,r++):(n=!0,jQuery("#slider_list").animate({left:"0px"},700,"linear",o),r=0,t=total_clicks))})},jQuery.fn.over=function(){jQuery(this).hover(function(){jQuery(this).addClass("over")},function(){jQuery(this).removeClass("over")})},jQuery.fn.intro=function(){function e(){0==s&&1==u?l>=r&&(i.trigger("click"),r++,setTimeout(function(){e()},7e3)):(setTimeout(function(){e()},7e3),s=!1)}var i=jQuery(".slider .box-right"),t=jQuery(".slider .box-right, .slider .box-left"),r=1,l=jQuery("#slider_list > li").size(),s=!1,u=!0;setTimeout(function(){e()},7e3),t.each(function(){jQuery(this).bind("mouseup",function(){s=!0,u=!0})}),jQuery(window).blur(function(){u=!1}).focus(function(){u=!0})},document.observe("dom:loaded",function(){var e=$$(".box-top");e.each(function(e){var i=e.select("#slider_list");i.each(function(e){var i=e.select("li"),t=0;i.each(function(e){e.getHeight()>t&&(t=e.getHeight())});var r=e.select("li .product-name");r.each(function(e){var i=e.up("li"),r=i.getHeight()-e.getHeight();e.setStyle({height:t-r+"px"})})})})}),jQuery(window).bind("load",function(){jQuery().prepare_slider(),jQuery().intro(),jQuery("#slider_list > li").over()});